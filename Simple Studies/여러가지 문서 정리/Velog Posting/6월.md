# 6월

## node-sass 설치에러, nvm
- 카카오 전사 에디터 demo를 확인해보려고 프로젝트 클론 후 `npm i`를 하니 `node-sass`관련해서 에러가 난다고 나온다.
- 원인은 node 버전별로 node-sass 지원 버전이 달라지는데, 내 로컬은 `node v16`였고 프로젝트는 `node-sass@^4.9.0`로 서로 지원이 안되는 버전이었던 것이다. 노드 버전을 14로 맞춰야한다.
  - https://velog.io/@somangoi/node-sass-node-gyp-%EC%97%90%EB%9F%AC%EB%A1%9C-%EC%9D%B8%ED%95%B4-npm-install%EC%9D%B4-%EC%95%88%EB%90%9C%EB%8B%A4%EB%A9%B4
- 로컬의 노드를 지우고 v14를 설치한 후 쓸수도 있겠으나 고작 데모를 열자고 내 보드를 낮출 순 없었다. `nvm`을 사용하면 노드 버전 스위칭이 가능하다.
  - https://dev-yakuza.posstree.com/ko/environment/nvm/
  - `.nvmrc` 파일을 이용해 프로젝트별로 node version 관리도 가능하다

<br>

## 디스럭처링 문법
- 작업중 객체 디스트럭처링을 재할당 해야 하는 코드를 작성할 일이 생겼다
```ts
let {notices, isEmpty}: CheckNoticeState = yield select(selectCheckNoticeStatus);

if (notices.length === 0 && !isEmpty) {
  yield call(_getCheckNoticeList);
  {notices, isEmpty} = yield select(selectCheckNoticeStatus); // Error 선언 또는 문이 필요합니다. 이 '='은 문 블록을 따르므로 구조 파괴 할당을 작성하려는 경우 전체 할당을 괄호로 묶어야 할 수 있습니다.ts(2809)
}
```
- 즉 재할당문을 아래와 같이 바꿔야한다.
```ts
({notices, isEmpty} = yield select(selectCheckNoticeStatus));
```
- 배열은 상관 없으나 객체 디스트럭처링의 경우 `let`,`const`,`var`가 없으면 `{...}`를 객체 리터럴이 아닌 `블록`으로 간주하기 때문에 expression context (`(...)`)내부에서 작성해야만 한다.
- 참고
  - https://stackoverflow.com/questions/48714689/javascript-re-assign-let-variable-with-destructuring
  - https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#%EA%B0%9D%EC%B2%B4_%EA%B5%AC%EC%A1%B0_%EB%B6%84%ED%95%B4